<!-- Updated AXAPTA FAQ HTML (Company logo + home removed, full-width forced for Google Sites) -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>AXAPTA Invoice FAQs</title>
<style>
  /* Force full width in Google Sites iframe */
  html, body {
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden !important;
    background: #fffaf9;
    font-family: Inter, Arial, sans-serif;
  }

  :root{
    --bg: #fffaf9;
    --card: #ffffff;
    --text: #111827;
    --muted: #6b7280;
    --accent: #8b0000;
    --accent-2: #b22222;
    --border: #e6e6e6;
    --radius: 12px;
    --shadow: 0 6px 20px rgba(11,15,20,0.08);
  }
  .dark{
    --bg: #0b0f12;
    --card: #0f1720;
    --text: #e6eef6;
    --muted: #9aa7b8;
    --accent: #b22222;
    --accent-2: #8b0000;
    --border: rgba(255,255,255,0.06);
    --shadow: 0 8px 30px rgba(0,0,0,0.6);
  }

  .layout{
    display:flex;gap:28px;padding:28px;width:100%;max-width:100%;
    background:var(--bg);
  }

  .sidebar{
    width:300px;flex:0 0 300px;background:var(--card);
    border-radius:var(--radius);padding:22px;box-shadow:var(--shadow);
    border:1px solid var(--border);position:sticky;top:24px;height:max-content;
  }

  .search input{
    width:100%;padding:12px 14px;border-radius:10px;border:1px solid var(--border);
    background:transparent;color:var(--text);
  }

  .topics a{
    display:block;padding:10px 12px;margin-bottom:8px;
    text-decoration:none;color:var(--accent);font-weight:700;
    border-radius:8px;
  }

  .main{flex:1;width:100%;max-width:100%;}

  .toggle{
    background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;
    padding:8px 12px;border-radius:999px;border:none;font-weight:700;cursor:pointer;
  }

  .faq-wrap{display:grid;grid-template-columns:1fr;gap:16px;width:100%;}

  .card{
    background:var(--card);border-radius:12px;padding:18px;border:1px solid var(--border);
    box-shadow:var(--shadow);
  }

  .q{display:flex;align-items:flex-start;gap:12px;cursor:pointer;}
  .q h3{margin:0;font-size:16px;color:var(--accent)}
  .meta-line{font-size:13px;color:var(--muted);}
  .answer{margin-top:12px;display:none;line-height:1.55;color:var(--text)}
  .open .answer{display:block}

  #topBtn{
    position:fixed;right:28px;bottom:28px;background:var(--accent);color:#fff;
    border:none;padding:12px 14px;border-radius:999px;cursor:pointer;
    display:none;font-weight:700;
  }
</style>
</head>
<body>

<div class="layout">
  <aside class="sidebar">
    <div class="search"><input id="search" type="search" placeholder="Search FAQ..."></div>
    <nav class="topics"></nav>
  </aside>

  <main class="main">
    <button id="darkToggle" class="toggle">ðŸŒ™ Dark Mode</button>
    <section id="faqs" class="faq-wrap"></section>
  </main>
</div>

<button id="topBtn">â†‘ Top</button>

<script>
/* ------------------ FULL FAQ DATA (from AX FAQs.docx) ------------------ */
const faqs = [
  {
    id: "q-where-validated",
    q: "Where are validated invoices routed once they have been successfully exported from IM-OCR to AX?",
    a: [
      "Invoices that are successfully exported from IM-OCR will interface into AX through the following journals:",
      "â€¢ Invoice Journal for non-PO invoices",
      "â€¢ Invoice Approval Journal for PO invoices"
    ]
  },
  {
    id: "q-restore-cancelled",
    q: "What should I do if I accidentally cancelled an invoice in the Invoice Approval Journal?",
    a: [
      "To restore the invoice:",
      "1. Open the Invoice Approval Journal.",
      "2. Select the invoice cancelled.",
      "3. Click Lines then Remove voucher.",
      "4. Confirm by selecting Yes.",
      "5. Fetch voucher.",
      "6. Click Select then OK to complete the process."
    ]
  },
  {
    id: "q-insufficient-info",
    q: "What does the error message â€˜Insufficient information / Intercompany posting missing / Update canceledâ€™ mean in AX?",
    a: [
      "This error appears when AX is unable to post an invoice due to missing or incorrect data in the voucher. Common Infolog messages:",
      "â€¢ â€˜Insufficient information in a line in voucher â€¦â€™ â€“ Required fields such as ledger account, offset account, or financial dimensions are missing.",
      "â€¢ â€˜Intercompany posting with th91 missing.â€™ â€“ Intercompany setup is incomplete or a required dimension value is not defined/mapped.",
      "â€¢ â€˜Journal has not been posted / Update has been canceled because of an error.â€™ â€“ Posting stopped due to validation failure.",
      "Resolution: Ensure all mandatory fields and dimensions are populated, check intercompany account mappings and required dimensions. If unresolved, contact the AX support team."
    ]
  },
  {
    id: "q-no-budget",
    q: "To whom should I coordinate if a â€˜no budgetâ€™ error occurs during invoice posting?",
    a: ["Coordinate with the Requestors or Marketing Coordinators so they can top up the budget. Once updated, proceed to post the invoice."]
  },
  {
    id: "q-invoice-higher-than-grn",
    q: "How do I handle an invoice in AX when the invoice amount is higher than the PO GRN amount?",
    a: [
      "Ask the requestor to create an additional Purchase Order (PO) for the excess amount. Once provided:",
      "1. Go to the Invoice Approval Journal in AX.",
      "2. Select Functions â†’ Purchase Order.",
      "3. Click the Select tab.",
      "4. Tick the additional PO number and arrange sequence.",
      "You can now post successfully."
    ]
  },
  {
    id: "q-inventitemprice",
    q: "What does the error â€˜Cannot create a record in Price (InventItemPrice)â€¦â€™ mean in AX?",
    a: [
      "This means AX cannot create/update a price record for the item. Causes:",
      "â€¢ Item number does not exist or is inactive.",
      "â€¢ Missing/incorrect pricing setup.",
      "â€¢ Insufficient permissions.",
      "Resolution: Raise to AX support team."
    ]
  },
  {
    id: "q-ledger-incorrect",
    q: "The ledger account tagged in the PO is incorrect; how can I correct it during invoice posting?",
    a: [
      "To correct:",
      "1. Go to Invoice Approval Journal.",
      "2. Click Lines.",
      "3. Go to Information tab.",
      "4. For Opex â†’ correct Ledger Account.",
      "5. For A&M â†’ correct Category field."
    ]
  },
  {
    id: "q-po-dimension-mismatch",
    q: "What should I do if the PO dimension does not match the project master in AX?",
    a: [
      "Requestors should verify project dimensions and update the PO line to match the project master. If mismatch persists, escalate to AX support."
    ]
  },
  {
    id: "q-not-in-journal",
    q: "Where can I find an invoice exported from IM-OCR to AX if it does not appear in journals?",
    a: [
      "Check Invoice Processing Log (AP or PO).",
      "Status meanings:",
      "â€¢ Created â€“ generated but not posted.",
      "â€¢ Failed â€“ error during interface.",
      "Correct the issue then re-process. If still missing, contact AX support."
    ]
  },
  {
    id: "q-closed-period",
    q: "What should I do if the invoice cannot be posted due to a closed period?",
    a: ["Update posting date to an open period, then repost."]
  },
  {
    id: "q-po-invalid",
    q: "How do I resolve the AX interface error â€˜PO Number is invalidâ€™?",
    a: [
      "Verify PO matches exactly with AX.",
      "Confirm PO exists and is open.",
      "If still invalid â†’ escalate to AX support.",
      "To prevent: manually update item number in IM-OCR if needed."
    ]
  },
  {
    id: "q-dimension-error",
    q: "How do I resolve a dimension error in AX?",
    a: [
      "Occurs when financial dimensions donâ€™t match allowed combinations.",
      "Check Business Line, PRIN, Product, Cost Center.",
      "Update PO line to correct combination.",
      "Re-process from Invoice Processing Log."
    ]
  },
  {
    id: "q-material-invalid",
    q: "How do I resolve the AX interface error â€˜Material Number is invalidâ€™?",
    a: [
      "Verify material number.",
      "Check if item exists and is active.",
      "If still invalid â†’ item master may be incomplete, escalate to AX support.",
      "If unsure of material number during validation, leave field blank."
    ]
  }
];

/* ------------------ RENDER FAQ + SEARCH + ACCORDION ------------------ */
const topicsEl = document.querySelector('.topics');
const faqsEl = document.getElementById('faqs');

function renderAll(){
  topicsEl.innerHTML = '';
  faqsEl.innerHTML = '';

  faqs.forEach(item=>{
    const link = document.createElement('a');
    link.href = '#' + item.id;
    link.textContent = item.q;
    link.onclick = e => {
      e.preventDefault();
      document.getElementById(item.id).scrollIntoView({behavior:'smooth'});
    };
    topicsEl.appendChild(link);

    const card = document.createElement('article');
    card.className = 'card';
    card.id = item.id;

    const qWrap = document.createElement('div');
    qWrap.className = 'q';

    const h = document.createElement('h3');
    h.textContent = item.q;
    qWrap.appendChild(h);

    const summary = document.createElement('p');
    summary.className = 'meta-line';
    summary.textContent = item.a[0];

    const ans = document.createElement('div');
    ans.className = 'answer';
    item.a.forEach(t=>{
      const p = document.createElement('p'); p.textContent = t; ans.appendChild(p);
    });

    card.appendChild(qWrap);
    card.appendChild(summary);
    card.appendChild(ans);

    card.addEventListener('click',()=>{
      card.classList.toggle('open');
    });

    faqsEl.appendChild(card);
  });
}
renderAll();

/* ------------------ SEARCH ------------------ */
document.getElementById('search').addEventListener('input', function(){
  let term = this.value.toLowerCase();
  document.querySelectorAll('.card').forEach(c=>{
    const text = c.innerText.toLowerCase();
    c.style.display = text.includes(term) ? '' : 'none';
  });
  document.querySelectorAll('.topics a').forEach(a=>{
    a.style.display = a.innerText.toLowerCase().includes(term) ? '' : 'none';
  });
});

/* ------------------ DARK MODE ------------------ */
/*/* ------------------ DARK MODE ------------------ */
const darkToggle = document.getElementById('darkToggle');
function applyDark(d){
  if(d) document.body.classList.add('dark'); else document.body.classList.remove('dark');
  darkToggle.textContent = d ? 'â˜€ï¸ Light Mode' : 'ðŸŒ™ Dark Mode';
}
applyDark(false);

darkToggle.addEventListener('click',()=>{
  const isDark = document.body.classList.toggle('dark');
  darkToggle.textContent = isDark ? 'â˜€ï¸ Light Mode' : 'ðŸŒ™ Dark Mode';
});

/* ------------------ BACK TO TOP ------------------ */
const topBtn = document.getElementById('topBtn');
window.addEventListener('scroll',()=>{
  topBtn.style.display = window.scrollY > 300 ? 'block' : 'none';
});
topBtn.onclick = ()=>window.scrollTo({top:0,behavior:'smooth'});

</script> ------------------ */
const darkToggle = document.getElementById('darkToggle');
function applyDark(d){
  if(d) document.body.classList.add('dark'); else document.body
</body>
</html>
